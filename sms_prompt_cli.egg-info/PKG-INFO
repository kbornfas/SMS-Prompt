Metadata-Version: 2.4
Name: sms-prompt-cli
Version: 1.0.0
Summary: A powerful CLI tool to send customized SMS prompts with variable interpolation, bulk sending, and analytics
Home-page: https://github.com/kbornfas/SMS-Prompt
Author: Your Name
Author-email: your.email@example.com
Project-URL: Bug Reports, https://github.com/kbornfas/SMS-Prompt/issues
Project-URL: Source, https://github.com/kbornfas/SMS-Prompt
Keywords: sms,cli,twilio,messaging,bulk-sms,templates
Classifier: Development Status :: 4 - Beta
Classifier: Environment :: Console
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Communications :: Telephony
Classifier: Topic :: Utilities
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: click>=8.1.7
Requires-Dist: rich>=13.7.0
Requires-Dist: twilio>=8.11.0
Requires-Dist: jinja2>=3.1.2
Requires-Dist: pyyaml>=6.0.1
Requires-Dist: sqlalchemy>=2.0.23
Requires-Dist: python-dotenv>=1.0.0
Requires-Dist: phonenumbers>=8.13.26
Requires-Dist: pandas>=2.1.4
Requires-Dist: tabulate>=0.9.0
Dynamic: author
Dynamic: author-email
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: keywords
Dynamic: project-url
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

# SMS Prompt CLI ğŸ“±

A powerful command-line tool to send customized SMS messages with variable interpolation, bulk sending, and analytics.

## Features

- ğŸ“ **Template System** - Create reusable message templates with Jinja2 variable substitution
- ğŸ“¤ **Single & Bulk Sending** - Send to one recipient or thousands via CSV
- ğŸ“Š **Analytics & History** - Track all messages with detailed statistics
- ğŸ”’ **Multiple Providers** - Support for Twilio and Africa's Talking
- âš¡ **Rate Limiting** - Built-in rate limiting for bulk operations
- ğŸ¨ **Beautiful CLI** - Rich terminal output with colors and formatting

## Installation

### Prerequisites

- Python 3.8 or higher
- pip package manager

### Install from Source

```bash
# Clone the repository
git clone https://github.com/kbornfas/SMS-Prompt.git
cd SMS-Prompt

# Create virtual environment
python -m venv venv

# Activate virtual environment
# On Windows:
venv\Scripts\activate
# On Linux/Mac:
source venv/bin/activate

# Install dependencies
pip install -r requirements.txt

# Install the CLI tool
pip install -e .
```

## Quick Start

### 1. Configure Your SMS Provider

```bash
# Set up Twilio credentials
sms-prompt config set twilio.account_sid YOUR_ACCOUNT_SID
sms-prompt config set twilio.auth_token YOUR_AUTH_TOKEN
sms-prompt config set twilio.phone_number +1234567890

# Or use Africa's Talking
sms-prompt config set sms_provider africas_talking
sms-prompt config set africas_talking.username YOUR_USERNAME
sms-prompt config set africas_talking.api_key YOUR_API_KEY
```

### 2. View Available Templates

```bash
sms-prompt template list
```

### 3. Send Your First SMS

```bash
# Using a template
sms-prompt send --template welcome --to +1234567890 -v name=John -v company=Acme

# Or with a direct message
sms-prompt send --message "Hello World!" --to +1234567890
```

## Usage

### Sending SMS

#### Single Recipient

```bash
# With template
sms-prompt send --template welcome --to +1234567890 -v name=John -v company=Acme

# Direct message
sms-prompt send --message "Hello World!" --to +1234567890

# Preview without sending
sms-prompt send --template promo --to +1234567890 -v name=Jane -v discount=20 --preview
```

#### Bulk Sending

Create a CSV file with your recipients:

```csv
phone,name,discount,code
+1234567890,John,20,SAVE20
+0987654321,Jane,15,SAVE15
```

Then send:

```bash
# Preview first
sms-prompt bulk --template promo --file contacts.csv --preview

# Send to all
sms-prompt bulk --template promo --file contacts.csv

# With custom rate limit
sms-prompt bulk --template promo --file contacts.csv --rate-limit 5
```

### Managing Templates

```bash
# List all templates
sms-prompt template list

# Show template details
sms-prompt template show welcome

# Create a new template
sms-prompt template create -n greeting -c "Hello {{name}}! Welcome to {{company}}."

# Create interactively
sms-prompt template create -n notification --interactive

# Test a template
sms-prompt template test welcome -v name=John -v company=Acme

# Delete a template
sms-prompt template delete old-template
```

### Template Syntax

Templates use Jinja2 syntax with `{{variable}}` placeholders:

```
Hi {{name}}! ğŸ‘‹ Welcome to {{company}}. Your account is now active.
```

### Configuration

```bash
# Show current config
sms-prompt config show

# Show with sensitive values
sms-prompt config show --reveal

# Set a value
sms-prompt config set twilio.account_sid YOUR_SID

# Get a value
sms-prompt config get twilio.phone_number

# Reset to defaults
sms-prompt config init
```

### Message History

```bash
# List recent messages
sms-prompt history list

# Filter by recipient
sms-prompt history list --recipient +1234567890

# Show only failed messages
sms-prompt history list --failed

# View message details
sms-prompt history show 123

# View statistics
sms-prompt history stats --days 30

# Export history
sms-prompt history export --format csv --output messages.csv

# Clear old logs
sms-prompt history clear --days 90
```

### Utilities

```bash
# Validate phone number
sms-prompt validate +1234567890

# Show tool information
sms-prompt info
```

## Configuration

Configuration is stored in `~/.sms-prompt/config.yaml`:

```yaml
sms_provider: twilio  # twilio or africas_talking

twilio:
  account_sid: ''
  auth_token: ''
  phone_number: ''

africas_talking:
  username: ''
  api_key: ''
  sender_id: ''

defaults:
  sender_name: YourApp
  confirm_before_send: true
  show_preview: true
  save_to_history: true

rate_limits:
  messages_per_second: 10
  messages_per_hour: 1000
```

## Directory Structure

```
~/.sms-prompt/
â”œâ”€â”€ config.yaml          # Configuration file
â”œâ”€â”€ templates/           # SMS templates
â”‚   â”œâ”€â”€ welcome.txt
â”‚   â”œâ”€â”€ reminder.txt
â”‚   â””â”€â”€ promo.txt
â””â”€â”€ sms_history.db       # SQLite database for history
```

## Project Structure

```
SMS-Prompt/
â”œâ”€â”€ cli/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ main.py          # CLI commands
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ sms_gateway.py   # SMS provider integrations
â”‚   â””â”€â”€ template_engine.py # Template rendering
â”œâ”€â”€ db/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ models.py        # Database models
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ config.py        # Configuration management
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ setup.py
â””â”€â”€ README.md
```

## SMS Providers

### Twilio

1. Sign up at [Twilio](https://www.twilio.com/)
2. Get your Account SID and Auth Token from the console
3. Purchase a phone number

### Africa's Talking

1. Sign up at [Africa's Talking](https://africastalking.com/)
2. Create an application and get your API key
3. Set up a sender ID (optional)

## Cost Estimation

The tool automatically estimates costs based on:
- Message length (160 chars for GSM-7, 70 chars for Unicode per segment)
- Number of recipients
- Approximate per-segment pricing

Actual costs may vary by country and provider.

## License

MIT License - see [LICENSE](LICENSE) for details.

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## Support

If you encounter any issues, please [open an issue](https://github.com/kbornfas/SMS-Prompt/issues) on GitHub.
